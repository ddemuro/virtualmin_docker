[server]


[mysqld]


port = 3306
socket = /var/run/mysqld/mysqld.sock

[mysqld]


user                           = mysql
default-storage-engine = InnoDB
socket = /var/run/mysqld/mysqld.sock
pid-file                       = /var/run/mysqld/mysqld.pid


key-buffer-size                = 64M
myisam-recover                 = FORCE,BACKUP


max-allowed-packet             = 512M
max-connect-errors             = 1000000
skip-name-resolve
sql-mode                       = ""
sysdate-is-now                 = 1
innodb                         = FORCE
innodb-strict-mode             = 1


datadir = /var/lib/mysql/



log-bin                        = /var/lib/mysql/mysql-bin
expire-logs-days               = 7
sync-binlog                    = 1
relay_log_purge		           = 1

tmp-table-size                 = 512M
max-heap-table-size            = 512M
query-cache-type               = 1
query-cache-size               = 512M
query_cache_limit              = 16M
max-connections                = 500
thread-cache-size              = 80
open-files-limit               = 16384
table-definition-cache         = 4096
table-open-cache               = 10240
max_allowed_packet	           = 4G

innodb-flush-method            = O_DIRECT
innodb-log-files-in-group      = 2

innodb-flush-log-at-trx-commit = 1
innodb-file-per-table          = 1
innodb-buffer-pool-size        = 1G


innodb_large_prefix	= true
innodb_file_format	= barracuda
innodb_file_per_table	= true

character_set_server	= utf8mb4
collation_server	= utf8mb4_unicode_ci

binlog_format = 'MIXED'

log-error                      = /var/lib/mysql/mysql-error.log
log-queries-not-using-indexes  = 1
slow-query-log                 = 0
slow-query-log-file            = /var/lib/mysql/mysql-slow.log

#innodb_page_size=64k
innodb_log_buffer_size=32M
innodb_strict_mode = 0

innodb_flush_log_at_trx_commit = 2
innodb_buffer_pool_size = 2G
innodb_io_capacity = 8000
sync-binlog = 1
sync-relay-log = 1
sync-relay-log-info = 1
sync-master-info = 1
slave-net-timeout = 60

server-id               = 1
report_host             = vmin01.mi.takelan.com
log_bin                 = /var/log/mysql/mariadb-bin
log_bin_index           = /var/log/mysql/mariadb-bin.index
relay_log               = /var/log/mysql/relay-bin
relay_log_index         = /var/log/mysql/relay-bin.index

## USE THESE TWO TO GET DATA BACK IN SYNC, UNCOMMENT AND REBOOT!
slave-skip-errors=1062,1032,1146
#skip-slave-start
### COPY TO ALL SERVERS IN CLUSTER!

# replicate-do-db       = testdb
auto_increment_increment = 5
auto_increment_offset = 1

[embedded]




[mariadb]




[mariadb-10.1]

